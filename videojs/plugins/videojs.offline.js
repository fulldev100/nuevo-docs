try{videojs.options.vhs.maxPlaylistRetries=1}catch(e){var oe=!0}try{videojs.options.errorDisplay=!1}catch(e){oe=!0}!function(e,t){"function"==typeof define&&define.amd?define([],t.bind(this,e,e.videojs)):"undefined"!=typeof module&&module.exports?module.exports=t(e,e.videojs):t(e,e.videojs)}(window,function(e,t){"use strict";function o(e,o){var n,i=t.mergeOptions||t.util.mergeOptions;return(o=i({offlineImage:"",offlineTimeout:30,liveSource:"",offlineCountdown:!1,liveStream:"",clock:0,label:"restart",loadTimeout:0,resetMethod:1},o||{})).label=(n=o.label).charAt(0).toUpperCase()+n.slice(1),e.on("ready",function(){var n,i,r=t.dom,l=e.el(),s=null,f=null,c=function(e,t){try{return e.querySelector(t)}catch(e){return!1}};if(""!=o.offlineImage){var a=c(l,".vjs-error-display");a&&r.addClass(a,"vjs-abs-hidden"),(s=document.createElement("div")).className="vjs-poster",s.setAttribute("style",'top:100%;z-index:15999;opacity:1!important;pointer-events:"none";background-color:#000;'),l.appendChild(s),s.style.backgroundImage="url("+o.offlineImage+")",s.style.height=0,o.loadTimeout>0&&e.one("play",function(){i=setTimeout(function(){e.isOffline=!0,p()},o.loadTimeout)}),e.on("error",function(){if(!e.isOffline){var t=e.error();1!=t.code&&2!=t.code&&4!=t.code&&3!=t.code&&-2!=t.code||(e.isOffline=!0,p())}}),setInterval(function(){if(!e.isOffline){var t=l.className;t.indexOf("vjs-has-started")>-1&&t.indexOf("vjs-ended")>-1&&(e.isOffline=!0,p())}},500),e.on("playing",function(){s.style.height=0,s.style.display="none",e.isOffline=!1,!0!==t.browser.IS_IOS&&e.muted(!1),clearTimeout(n),clearTimeout(i);try{l.removeChild(f)}catch(e){}f=null})}function u(){s.setAttribute("style",s.getAttribute("style")+";top:0;height:100%;display:block!important"),o.offlineCountdown&&null==f&&((f=document.createElement("div")).setAttribute("style","position:absolute;right:30px;bottom:25px;font-size:20px;color:#fff;font-family:sans-serif,Arial;text-shadow:1px 1px 1px #000;z-Index:16000"),l.appendChild(f))}function d(t){!function(){if(1==o.resetMethod){var t=e.currentSource(),n=e.currentType();e.src({src:t,type:n});var i=e.play();void 0!==i&&i.then(function(){return!0}).catch(function(t){e.muted(!0),e.play()})}2==o.resetMethod&&(t=e.currentSource(),n=e.currentType(),e.src({src:t,type:n}),e.load(),setTimeout(function(){e.play()},100))}()}function p(){var t=c(l,".vjs-loading-spinner");r.addClass(t,"vjs-abs-hidden"),o.clock=0,u(),o.offlineCountdown&&null!=f&&(f.innerHTML=o.label+" "+m(o.offlineTimeout)),o.clock=0,function t(){clearTimeout(n),n=setTimeout(function(){o.clock++,o.offlineCountdown&&f&&(f.innerHTML=o.label+" "+m(o.offlineTimeout-o.clock)),o.clock>=o.offlineTimeout&&(o.clock=0,e.trigger("offlineLoop"),d(o.liveStream)),t()},1e3)}()}function m(e){var t=parseInt(e,10),o=Math.floor(t/60)%60,n=t%60,i="";return i=o>0?o>9?o+":":"0"+o+":":"0:",n>0?i+=n>9?n:"0"+n:i="0:00",i}}),this}e.videojs_offline={version:"2.0"};t.registerPlugin("offline",function(e){this.ready(function(){o(this,e)})})});
