!function(e,t){"function"==typeof define&&define.amd?define([],t.bind(this,e,e.videojs)):"undefined"!=typeof module&&module.exports?module.exports=t(e,e.videojs):t(e,e.videojs)}(window,function(e,t){"use strict";e.videojs_hotkeys={version:"0.2.16"};t.registerPlugin||t.plugin;t.registerPlugin("hotkeys",function(n){this.ready(function(){!function(n,o){var r=n.el(),u=document,l={volumeStep:.1,seekStep:5,enableMute:!0,enableVolumeScroll:!0,enableHoverScroll:!1,enableFullscreen:!0,enableNumbers:!0,enableJogStyle:!1,alwaysCaptureHotkeys:!0,captureDocumentHotkeys:!1,documentHotkeysFocusElementFilter:function(){return!1},enableModifiersForNumbers:!0,enableInactiveFocus:!0,skipInitialFocus:!1,playPauseKey:function(e){return 32===e.which||179===e.which},rewindKey:function(e){return 37===e.which||177===e.which},forwardKey:function(e){return 39===e.which||176===e.which},volumeUpKey:function(e){return 38===e.which},volumeDownKey:function(e){return 40===e.which},muteKey:function(e){return 77===e.which},fullscreenKey:function(e){return 70===e.which},customKeys:{}};t.options.blockKeys=!1;var i=!1,c=t.mergeOptions||t.util.mergeOptions;o=c(l,o||{}),n.on("dispose",function(){document.removeEventListener("keydown",K),n.off("keydown",K),n.off("dblclick",S),n.off("mousewheel",g),n.off("DOMMouseScroll",g)});var a=o.volumeStep,s=o.seekStep,f=o.enableMute,m=o.enableVolumeScroll,y=(o.enableHoverScroll,o.enableFullscreen),v=o.enableNumbers,b=o.enableJogStyle,d=o.alwaysCaptureHotkeys,p=o.captureDocumentHotkeys,k=(o.documentHotkeysFocusElementFilter,o.enableModifiersForNumbers),h=o.enableInactiveFocus,w=o.skipInitialFocus;r.hasAttribute("tabIndex")||r.setAttribute("tabIndex","-1"),r.style.outline="none",!d&&n.autoplay()||w||n.one("play",function(){r.focus()}),h&&n.on("userinactive",function(){var e=function(){clearTimeout(t)},t=setTimeout(function(){n.off("useractive",e);var t=u.activeElement,o=r.querySelector(".vjs-control-bar");t&&t.parentElement==o&&r.focus()},10);n.one("useractive",e)}),n.on("play",function(){var e=r.querySelector(".iframeblocker");e&&""===e.style.display&&(e.style.display="block",e.style.bottom="39px")});var K=function(l){var c,m=l.which;if((!l.shiftKey||188===m||190===m)&&!l.ctrlKey&&!l.altKey&&n.controls()){var h=u.activeElement;if(d||h==r||h==r.querySelector(".vjs-tech")||h==r.querySelector(".vjs-control-bar")||h==r.querySelector(".iframeblocker")){if(l.preventDefault(),(d||p)&&(l.stopPropagation?l.stopPropagation():e.event&&(e.event.cancelBubble=!0)),(70===m||77===m||32===m||179===m)&&i)return;i=!0;var w=n.playbackRates();if(l.shiftKey&&188==m){w.sort(function(e,t){return t-e});for(var K=0;K<w.length;K++)if(w[K]<n.playbackRate()){n.setRate(w[K]);break}}if(l.shiftKey&&190==m)for(w.sort(function(e,t){return e-t}),K=0;K<w.length;K++)if(w[K]>n.playbackRate()){n.setRate(w[K]);break}switch(T(l,n)){case 1:n.paused()?n.play():n.pause();break;case 2:if(t.options.blockKeys)break;c=n.currentTime()-s,n.currentTime()<=s&&(c=0),n.currentTime(c);break;case 3:if(t.options.blockKeys)break;n.currentTime(n.currentTime()+s);break;case 5:if(l.stopPropagation(),t.options.blockKeys)break;b?(c=n.currentTime()-1,n.currentTime()<=1&&(c=0),n.currentTime(c)):n.volume(n.volume()-a);break;case 4:if(t.options.blockKeys)break;b?n.currentTime(n.currentTime()+1):n.volume(n.volume()+a);break;case 6:f&&n.muted(!n.muted());break;case 7:y&&(n.isFullscreen()?n.exitFullscreen():n.requestFullscreen());break;default:if((m>47&&m<59||m>95&&m<106)&&(k||!(l.metaKey||l.ctrlKey||l.altKey))&&v){var S=48;m>95&&(S=96);var F=m-S;l.preventDefault(),n.currentTime(n.duration()*F*.1)}for(var g in o.customKeys){var q=o.customKeys[g];q&&q.key&&q.handler&&q.key(l)&&(l.preventDefault(),q.handler(n,o))}}}}},S=function(e){if(n.controls()){var t=e.relatedTarget||e.toElement||u.activeElement;t!=r&&t!=r.querySelector(".vjs-tech")&&t!=r.querySelector(".iframeblocker")||y&&(n.isFullscreen()?n.exitFullscreen():n.requestFullscreen())}},F=r.querySelector(".vjs-volume-menu-button")||r.querySelector(".vjs-volume-panel");null!=F&&(F.onmouseover=function(){},F.onmouseout=function(){});var g=function(t){if(n.controls()){var o=t.relatedTarget||t.toElement||u.activeElement;if((d||o==r||o==r.querySelector(".vjs-tech")||o==r.querySelector(".iframeblocker")||o==r.querySelector(".vjs-control-bar"))&&m){t=e.event||t;var l=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));t.preventDefault(),1==l?n.volume(n.volume()+a):-1==l&&n.volume(n.volume()-a)}}},T=function(e,t){return o.playPauseKey(e,t)?1:o.rewindKey(e,t)?2:o.forwardKey(e,t)?3:o.volumeUpKey(e,t)?4:o.volumeDownKey(e,t)?5:o.muteKey(e,t)?6:o.fullscreenKey(e,t)?7:void 0};function q(){i=!1}document.addEventListener("keydown",K,!1),document.addEventListener("keyup",q,!1),n.on("dispose",function(){document.removeEventListener("keydown",K),document.removeEventListener("keyup",q)}),n.on("keydown",K),n.on("keyup",q),n.on("dblclick",S),n.on("mousewheel",g),n.on("DOMMouseScroll",g)}(this,n)})})});